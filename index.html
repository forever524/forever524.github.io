<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äººæ•™ç‰ˆä¹å¹´çº§å…¨ä¸€å†Œè‹±è¯­åŒæ­¥ç­”é¢˜é¡µé¢</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', sans-serif;
        }
        body {
            background-color: #f5f7fa;
            padding: 20px;
            line-height: 1.6;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.05);
        }
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e8f4f8;
        }
        h1 {
            color: #2d3748;
            font-size: 28px;
            margin-bottom: 10px;
        }
        .intro {
            color: #718096;
            font-size: 16px;
            max-width: 800px;
            margin: 0 auto;
        }
        /* å­¦ç”Ÿä¿¡æ¯æ ·å¼ */
        .student-info {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }
        .student-info input {
            padding: 10px 15px;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            font-size: 16px;
            width: 200px;
        }
        .section {
            margin-bottom: 40px;
        }
        .section-title {
            color: #4299e1;
            font-size: 22px;
            margin-bottom: 20px;
            padding-left: 10px;
            border-left: 4px solid #4299e1;
        }
        .question {
            background: #f8f9fa;
            padding: 15px 20px;
            margin-bottom: 15px;
            border-radius: 8px;
        }
        .question-number {
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 8px;
        }
        .question-content {
            margin-bottom: 10px;
            color: #4a5568;
        }
        textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            resize: vertical;
            min-height: 100px;
            font-size: 16px;
            margin-top: 10px;
        }
        input[type="text"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            font-size: 16px;
            margin-top: 5px;
        }
        .btn-group {
            text-align: center;
            margin: 40px 0;
        }
        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            margin: 0 10px;
            transition: all 0.3s;
        }
        .btn-submit {
            background: #48bb78;
            color: white;
        }
        .btn-reset {
            background: #ed8936;
            color: white;
        }
        .btn-analysis {
            background: #9f7aea;
            color: white;
        }
        .btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        .analysis-section {
            display: none;
            margin-top: 30px;
            padding-top: 30px;
            border-top: 2px solid #e8f4f8;
        }
        .analysis-title {
            color: #e53e3e;
            font-size: 20px;
            margin-bottom: 20px;
        }
        .answer-item {
            margin-bottom: 25px;
        }
        .answer-correct {
            color: #48bb78;
            font-weight: bold;
            margin-bottom: 8px;
        }
        .analysis-content {
            color: #4a5568;
            background: #f0f8fb;
            padding: 15px;
            border-radius: 6px;
            border-left: 3px solid #4299e1;
        }
        .textbook-source {
            color: #718096;
            font-size: 14px;
            margin-top: 10px;
            font-style: italic;
        }
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            h1 {
                font-size: 24px;
            }
            .section-title {
                font-size: 20px;
            }
            .btn {
                display: block;
                margin: 10px auto;
                width: 100%;
            }
            .student-info input {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>äººæ•™ç‰ˆä¹å¹´çº§å…¨ä¸€å†Œè‹±è¯­åŒæ­¥ç­”é¢˜é¡µé¢</h1>
            <p class="intro">æœ¬é¡µé¢åŸºäºæ•™æ14ä¸ªå•å…ƒæ ¸å¿ƒçŸ¥è¯†ç‚¹ç¼–å†™ï¼Œæ¶µç›–è¯æ±‡ã€è¯­æ³•ã€å¥å‹ã€é˜…è¯»ç†è§£ç­‰é¢˜å‹ï¼Œç­”é¢˜å®Œæˆåå¯æŸ¥çœ‹è§£æä¸æ­£ç¡®ç­”æ¡ˆ</p>
        </header>

        <!-- å­¦ç”Ÿä¿¡æ¯è¾“å…¥æ¡† -->
        <div class="student-info">
            <input type="text" id="studentName" placeholder="è¯·è¾“å…¥å§“å">
            <input type="text" id="studentClass" placeholder="è¯·è¾“å…¥ç­çº§ï¼ˆå¦‚ï¼šä¹1ç­ï¼‰">
        </div>

        <!-- è¯æ±‡è¿ç”¨éƒ¨åˆ† -->
        <div class="section">
            <h2 class="section-title">ä¸€ã€è¯æ±‡è¿ç”¨ï¼ˆå…±5é¢˜ï¼‰</h2>
            <div class="question">
                <div class="question-number">1. æ ¹æ®å¥æ„åŠé¦–å­—æ¯æç¤ºå®Œæˆå•è¯</div>
                <div class="question-content">We should pay a______ to our pronunciation when learning English.ï¼ˆUnit 1ï¼‰</div>
                <input type="text" id="vocab1" placeholder="è¯·è¾“å…¥ç­”æ¡ˆ">
            </div>
            <div class="question">
                <div class="question-number">2. ç”¨æ‹¬å·å†…æ‰€ç»™å•è¯çš„é€‚å½“å½¢å¼å¡«ç©º</div>
                <div class="question-content">Many teenagers are allowed ______ (choose) their own clothes in modern families.ï¼ˆUnit 7ï¼‰</div>
                <input type="text" id="vocab2" placeholder="è¯·è¾“å…¥ç­”æ¡ˆ">
            </div>
            <div class="question">
                <div class="question-number">3. é€‰æ‹©åˆé€‚çš„å•è¯å¡«ç©ºï¼ˆæ¯è¯é™ç”¨ä¸€æ¬¡ï¼‰</div>
                <div class="question-content">[produce, avoid, create, connect, admire]</div>
                <div class="question-content">People in China ______ the moon and share mooncakes on the Mid-Autumn Festival.ï¼ˆUnit 2ï¼‰</div>
                <input type="text" id="vocab3" placeholder="è¯·è¾“å…¥ç­”æ¡ˆ">
            </div>
            <div class="question">
                <div class="question-number">4. ç¿»è¯‘çŸ­è¯­</div>
                <div class="question-content">å¤©ç”Ÿå…·æœ‰ ______ï¼ˆUnit 1ï¼‰</div>
                <input type="text" id="vocab4" placeholder="è¯·è¾“å…¥ç­”æ¡ˆ">
            </div>
            <div class="question">
                <div class="question-number">5. å†™å‡ºä¸‹åˆ—å•è¯çš„åä¹‰è¯</div>
                <div class="question-content">alive - ______ï¼ˆUnit 12ï¼‰</div>
                <input type="text" id="vocab5" placeholder="è¯·è¾“å…¥ç­”æ¡ˆ">
            </div>
        </div>

        <!-- è¯­æ³•å¡«ç©ºéƒ¨åˆ† -->
        <div class="section">
            <h2 class="section-title">äºŒã€è¯­æ³•å¡«ç©ºï¼ˆå…±5é¢˜ï¼‰</h2>
            <div class="question">
                <div class="question-number">1. ç”¨é€‚å½“çš„ä»‹è¯å¡«ç©º</div>
                <div class="question-content">He improved his English ______ listening to English movies.ï¼ˆUnit 1ï¼‰</div>
                <input type="text" id="grammar1" placeholder="è¯·è¾“å…¥ç­”æ¡ˆ">
            </div>
            <div class="question">
                <div class="question-number">2. æ”¹å†™å¥å­ä¸ºè¢«åŠ¨è¯­æ€</div>
                <div class="question-content">People grow tea in Anxi and Hangzhou.</div>
                <div class="question-content">â†’ Tea ______ in Anxi and Hangzhou.ï¼ˆUnit 5ï¼‰</div>
                <input type="text" id="grammar2" placeholder="è¯·è¾“å…¥ç­”æ¡ˆ">
            </div>
            <div class="question">
                <div class="question-number">3. ç”¨ "used to" æ”¹å†™å¥å­</div>
                <div class="question-content">She was afraid of the dark when she was young.</div>
                <div class="question-content">â†’ She ______ afraid of the dark.ï¼ˆUnit 4ï¼‰</div>
                <input type="text" id="grammar3" placeholder="è¯·è¾“å…¥ç­”æ¡ˆ">
            </div>
            <div class="question">
                <div class="question-number">4. é€‰æ‹©åˆé€‚çš„æƒ…æ€åŠ¨è¯å¡«ç©ºï¼ˆmust/might/can'tï¼‰</div>
                <div class="question-content">The schoolbag ______ belong to Linda. It has her name on it.ï¼ˆUnit 8ï¼‰</div>
                <input type="text" id="grammar4" placeholder="è¯·è¾“å…¥ç­”æ¡ˆ">
            </div>
            <div class="question">
                <div class="question-number">5. è¡¥å…¨å®šè¯­ä»å¥</div>
                <div class="question-content">I like music ______ I can sing along with.ï¼ˆUnit 9ï¼‰</div>
                <input type="text" id="grammar5" placeholder="è¯·è¾“å…¥ç­”æ¡ˆ">
            </div>
        </div>

        <!-- å¥å‹è½¬æ¢éƒ¨åˆ† -->
        <div class="section">
            <h2 class="section-title">ä¸‰ã€å¥å‹è½¬æ¢ï¼ˆå…±3é¢˜ï¼‰</h2>
            <div class="question">
                <div class="question-number">1. æ”¹ä¸ºåŒä¹‰å¥</div>
                <div class="question-content">Could you please tell me where I can buy some stamps?</div>
                <div class="question-content">â†’ Could you please tell me where ______ some stamps?ï¼ˆUnit 3ï¼‰</div>
                <input type="text" id="sentence1" placeholder="è¯·è¾“å…¥ç­”æ¡ˆ">
            </div>
            <div class="question">
                <div class="question-number">2. æ”¹ä¸ºå¦å®šå¥</div>
                <div class="question-content">Sixteen-year-olds should be allowed to drive.</div>
                <div class="question-content">â†’ Sixteen-year-olds ______ allowed to drive.ï¼ˆUnit 7ï¼‰</div>
                <input type="text" id="sentence2" placeholder="è¯·è¾“å…¥ç­”æ¡ˆ">
            </div>
            <div class="question">
                <div class="question-number">3. æ”¹ä¸ºæ„Ÿå¹å¥</div>
                <div class="question-content">The dragon boat races are exciting.</div>
                <div class="question-content">â†’ ______ the dragon boat races are!ï¼ˆUnit 2ï¼‰</div>
                <input type="text" id="sentence3" placeholder="è¯·è¾“å…¥ç­”æ¡ˆ">
            </div>
        </div>

        <!-- é˜…è¯»ç†è§£éƒ¨åˆ† -->
        <div class="section">
            <h2 class="section-title">å››ã€é˜…è¯»ç†è§£ï¼ˆå…±4é¢˜ï¼‰</h2>
            <div class="question">
                <div class="question-content">é˜…è¯»çŸ­æ–‡ï¼Œå›ç­”é—®é¢˜ï¼ˆé€‰è‡ªUnit 3ï¼‰</div>
                <div class="question-content" style="background: #fff; padding: 10px; border-radius: 4px; margin: 10px 0;">
                    Fun Times Park - Always a Fun Time!<br>
                    [Alice and He Wei are in Space World.]<br>
                    Alice: I wonder where we should go next.<br>
                    He Wei: How about that new ride over there?<br>
                    Alice: Well ... it looks scary.<br>
                    He Wei: Come on! I promise it'll be exciting! If you're scared, just shout or hold my hand.<br>
                    [After the ride â€¦]<br>
                    Alice: You were right! That was fun! I was scared at first, but shouting did help.<br>
                    He Wei: See, that wasn't so bad, right? You never know until you try something.<br>
                    Alice: Yes, I'm so glad I tried it!<br>
                    He Wei: Do you want to go to Water World now?<br>
                    Alice: Sure, but I'm getting hungry. Do you know where we can get some good food quickly?<br>
                    He Wei: Of course! I suggest Water City Restaurant in Water World. It serves delicious food.
                </div>
                <div class="question-number">1. Why did Alice not want to go on the new ride at first?</div>
                <textarea id="reading1" placeholder="è¯·è¾“å…¥ç­”æ¡ˆ"></textarea>
                <div class="question-number">2. How did Alice feel after the ride?</div>
                <textarea id="reading2" placeholder="è¯·è¾“å…¥ç­”æ¡ˆ"></textarea>
                <div class="question-number">3. Where does He Wei suggest they eat?</div>
                <textarea id="reading3" placeholder="è¯·è¾“å…¥ç­”æ¡ˆ"></textarea>
                <div class="question-number">4. What does the underlined sentence "You never know until you try something" mean?</div>
                <textarea id="reading4" placeholder="è¯·è¾“å…¥ç­”æ¡ˆ"></textarea>
            </div>
        </div>

        <!-- ä¹¦é¢è¡¨è¾¾éƒ¨åˆ† -->
        <div class="section">
            <h2 class="section-title">äº”ã€ä¹¦é¢è¡¨è¾¾ï¼ˆ1é¢˜ï¼‰</h2>
            <div class="question">
                <div class="question-content">å‡è®¾ä½ çš„ç¬”å‹Peterè¦æ¥ä¸­å›½äº¤æµï¼Œæƒ³äº†è§£ä¸­å›½çš„æ˜¥èŠ‚ï¼Œè¯·ä½ æ ¹æ®æ•™æUnit 2ç›¸å…³å†…å®¹ï¼Œç»™ä»–å†™ä¸€å°ä¿¡ï¼Œä»‹ç»æ˜¥èŠ‚çš„ä¹ ä¿—ï¼ˆå¦‚å›¢èšã€åƒå¹´å¤œé¥­ã€è´´å¯¹è”ã€æ”¾çƒŸèŠ±ç­‰ï¼‰ï¼Œå¹¶è¯´æ˜ä½ å–œæ¬¢æ˜¥èŠ‚çš„åŸå› ã€‚è¯æ•°80-100ã€‚</div>
                <textarea id="writing" placeholder="è¯·åœ¨æ­¤å¤„å†™ä½œæ–‡"></textarea>
            </div>
        </div>

        <!-- æŒ‰é’®ç»„ -->
        <div class="btn-group">
            <button class="btn btn-submit" onclick="checkAnswers()">æäº¤ç­”æ¡ˆï¼ˆå«æ•°æ®æäº¤ï¼‰</button>
            <button class="btn btn-reset" onclick="resetAnswers()">é‡ç½®ç­”æ¡ˆ</button>
            <button class="btn btn-analysis" onclick="showAnalysis()">æŸ¥çœ‹è§£æ</button>
        </div>

        <!-- è§£æåŒºåŸŸ -->
        <div class="analysis-section" id="analysisSection">
            <h2 class="analysis-title">ç­”æ¡ˆä¸è§£æ</h2>
            
            <!-- è¯æ±‡è¿ç”¨è§£æ -->
            <div class="answer-item">
                <div class="answer-correct">ä¸€ã€è¯æ±‡è¿ç”¨ç­”æ¡ˆ</div>
                <div class="analysis-content">
                    1. attentionï¼ˆè§£æï¼špay attention to æ˜¯å›ºå®šçŸ­è¯­ï¼Œæ„ä¸º"æ³¨æ„"ï¼ŒUnit 1é‡ç‚¹çŸ­è¯­ï¼‰<br>
                    2. to chooseï¼ˆè§£æï¼šallow sb. to do sth. çš„è¢«åŠ¨å½¢å¼ä¸ºbe allowed to do sth.ï¼ŒUnit 7è¯­æ³•é‡ç‚¹ï¼‰<br>
                    3. admireï¼ˆè§£æï¼šadmire the moon æ„ä¸º"èµæœˆ"ï¼Œç¬¦åˆä¸­ç§‹èŠ‚ä¹ ä¿—ï¼ŒUnit 2è¯æ±‡ï¼‰<br>
                    4. be born withï¼ˆè§£æï¼šå›ºå®šçŸ­è¯­ï¼ŒUnit 1æ ¸å¿ƒè¯æ±‡å»¶ä¼¸ï¼‰<br>
                    5. deadï¼ˆè§£æï¼šalive æ„ä¸º"æ´»ç€çš„"ï¼Œåä¹‰è¯ä¸ºdeadï¼ŒUnit 12è¯æ±‡ï¼‰
                </div>
                <div class="textbook-source">æ•™æå‡ºå¤„ï¼šUnit 1ã€Unit 2ã€Unit 7ã€Unit 12è¯æ±‡è¡¨åŠè¯¾æ–‡</div>
            </div>

            <!-- è¯­æ³•å¡«ç©ºè§£æ -->
            <div class="answer-item">
                <div class="answer-correct">äºŒã€è¯­æ³•å¡«ç©ºç­”æ¡ˆ</div>
                <div class="analysis-content">
                    1. byï¼ˆè§£æï¼šby+åŠ¨åè¯è¡¨ç¤º"é€šè¿‡æŸç§æ–¹å¼"ï¼ŒUnit 1è¯­æ³•é‡ç‚¹ï¼‰<br>
                    2. is grownï¼ˆè§£æï¼šä¸€èˆ¬ç°åœ¨æ—¶è¢«åŠ¨è¯­æ€ï¼Œç»“æ„ä¸ºam/is/are+è¿‡å»åˆ†è¯ï¼ŒUnit 5è¯­æ³•ï¼‰<br>
                    3. used to beï¼ˆè§£æï¼šused to åæ¥åŠ¨è¯åŸå½¢ï¼Œè¡¨"è¿‡å»å¸¸å¸¸"ï¼ŒUnit 4è¯­æ³•ï¼‰<br>
                    4. mustï¼ˆè§£æï¼šmust è¡¨è‚¯å®šæ¨æµ‹ï¼Œ"ä¸€å®š"ï¼ŒUnit 8æƒ…æ€åŠ¨è¯ç”¨æ³•ï¼‰<br>
                    5. that/whichï¼ˆè§£æï¼šå®šè¯­ä»å¥å¼•å¯¼è¯ï¼Œå…ˆè¡Œè¯ä¸ºç‰©æ—¶ç”¨that/whichï¼ŒUnit 9è¯­æ³•ï¼‰
                </div>
                <div class="textbook-source">æ•™æå‡ºå¤„ï¼šå„å•å…ƒGrammar Focuséƒ¨åˆ†</div>
            </div>

            <!-- å¥å‹è½¬æ¢è§£æ -->
            <div class="answer-item">
                <div class="answer-correct">ä¸‰ã€å¥å‹è½¬æ¢ç­”æ¡ˆ</div>
                <div class="analysis-content">
                    1. to buyï¼ˆè§£æï¼šå®¾è¯­ä»å¥ç®€åŒ–ä¸º"ç–‘é—®è¯+ä¸å®šå¼"ç»“æ„ï¼ŒUnit 3è¯­æ³•ï¼‰<br>
                    2. shouldn't beï¼ˆè§£æï¼šæƒ…æ€åŠ¨è¯shouldçš„å¦å®šå½¢å¼ï¼ŒUnit 7è¯­æ³•ï¼‰<br>
                    3. How excitingï¼ˆè§£æï¼šhowå¼•å¯¼çš„æ„Ÿå¹å¥ç»“æ„ä¸ºHow+å½¢å®¹è¯+ä¸»è¯­+è°“è¯­ï¼ŒUnit 2è¯­æ³•ï¼‰
                </div>
                <div class="textbook-source">æ•™æå‡ºå¤„ï¼šå„å•å…ƒå¥å‹è½¬æ¢ç»ƒä¹ </div>
            </div>

            <!-- é˜…è¯»ç†è§£è§£æ -->
            <div class="answer-item">
                <div class="answer-correct">å››ã€é˜…è¯»ç†è§£ç­”æ¡ˆ</div>
                <div class="analysis-content">
                    1. Because it looked scary.ï¼ˆè§£æï¼šä»Aliceçš„è¯"it looks scary"å¯ç›´æ¥å¾—å‡ºç­”æ¡ˆï¼‰<br>
                    2. She felt it was fun.ï¼ˆè§£æï¼šAfter the rideåAliceè¯´"That was fun!"ï¼‰<br>
                    3. Water City Restaurant in Water World.ï¼ˆè§£æï¼šHe Weiæ˜ç¡®å»ºè®®"Water City Restaurant in Water World"ï¼‰<br>
                    4. ä½ ä¸å°è¯•å°±æ°¸è¿œä¸çŸ¥é“ç»“æœã€‚ï¼ˆè§£æï¼šå­—é¢æ„ä¸º"ç›´åˆ°ä½ å°è¯•æ‰ä¼šçŸ¥é“"ï¼Œå¼•ç”³ä¸ºé¼“åŠ±å°è¯•æ–°äº‹ç‰©ï¼‰
                </div>
                <div class="textbook-source">æ•™æå‡ºå¤„ï¼šUnit 3 Section A 3açŸ­æ–‡</div>
            </div>

            <!-- ä¹¦é¢è¡¨è¾¾å‚è€ƒèŒƒæ–‡ -->
            <div class="answer-item">
                <div class="answer-correct">äº”ã€ä¹¦é¢è¡¨è¾¾å‚è€ƒèŒƒæ–‡</div>
                <div class="analysis-content">
                    Dear Peter,<br>
                    I'm glad to hear you're coming to China. The Spring Festival is the most important festival in China. It usually comes in January or February.<br>
                    Before the festival, people clean their houses and put up couplets. On New Year's Eve, families get together for a big dinner. We eat dumplings, fish and other delicious food. At midnight, we set off fireworks to welcome the new year.<br>
                    I love the Spring Festival because it's a time for family reunion. We can spend time with relatives and receive red envelopes with money. It makes me feel warm and happy.<br>
                    I hope you can experience the Spring Festival with us. Best wishes!<br>
                    Yours,<br>
                    Li Hua
                </div>
                <div class="textbook-source">æ•™æå‡ºå¤„ï¼šUnit 2 èŠ‚æ—¥è¯é¢˜åŠå†™ä½œè¦æ±‚</div>
            </div>
        </div>
    </div>

    <script>
        // æ£€æŸ¥ç­”æ¡ˆ + æäº¤æ•°æ®åˆ°æŒ‡å®šæ¥å£
        function checkAnswers() {
            // 1. éªŒè¯å§“å/ç­çº§æ˜¯å¦å¡«å†™
            const studentName = document.getElementById('studentName').value.trim();
            const studentClass = document.getElementById('studentClass').value.trim();
            if (!studentName || !studentClass) {
                alert('è¯·å…ˆå¡«å†™å§“åå’Œç­çº§ä¿¡æ¯ï¼');
                return;
            }

            let correctCount = 0;
            const totalQuestions = 13; // 5è¯æ±‡+5è¯­æ³•+3å¥å‹=13é“å®¢è§‚é¢˜
            const wrongQuestionIds = []; // å­˜å‚¨é”™è¯¯é¢˜å·

            // è¯æ±‡é¢˜ç­”æ¡ˆ
            const vocabAnswers = ["attention", "to choose", "admire", "be born with", "dead"];
            const vocabInputs = ["vocab1", "vocab2", "vocab3", "vocab4", "vocab5"];
            
            // è¯­æ³•é¢˜ç­”æ¡ˆ
            const grammarAnswers = ["by", "is grown", "used to be", "must", "that/which"];
            const grammarInputs = ["grammar1", "grammar2", "grammar3", "grammar4", "grammar5"];
            
            // å¥å‹é¢˜ç­”æ¡ˆ
            const sentenceAnswers = ["to buy", "shouldn't be", "How exciting"];
            const sentenceInputs = ["sentence1", "sentence2", "sentence3"];

            // 2. æ£€æŸ¥è¯æ±‡é¢˜ + è®°å½•é”™è¯¯é¢˜å·
            for (let i = 0; i < vocabInputs.length; i++) {
                const input = document.getElementById(vocabInputs[i]);
                const userAnswer = input.value.trim().toLowerCase();
                const isCorrect = userAnswer === vocabAnswers[i].toLowerCase();
                
                if (isCorrect) {
                    correctCount++;
                    input.style.border = "2px solid #48bb78";
                } else {
                    input.style.border = "2px solid #e53e3e";
                    wrongQuestionIds.push(`è¯æ±‡è¿ç”¨${i+1}é¢˜`); // è®°å½•é”™è¯¯é¢˜å·
                }
            }

            // 3. æ£€æŸ¥è¯­æ³•é¢˜ + è®°å½•é”™è¯¯é¢˜å·
            for (let i = 0; i < grammarInputs.length; i++) {
                const input = document.getElementById(grammarInputs[i]);
                const userAnswer = input.value.trim().toLowerCase();
                const isCorrect = (i === 4) 
                    ? ["that", "which", "that/which"].includes(userAnswer)
                    : userAnswer === grammarAnswers[i].toLowerCase();
                
                if (isCorrect) {
                    correctCount++;
                    input.style.border = "2px solid #48bb78";
                } else {
                    input.style.border = "2px solid #e53e3e";
                    wrongQuestionIds.push(`è¯­æ³•å¡«ç©º${i+1}é¢˜`); // è®°å½•é”™è¯¯é¢˜å·
                }
            }

            // 4. æ£€æŸ¥å¥å‹é¢˜ + è®°å½•é”™è¯¯é¢˜å·
            for (let i = 0; i < sentenceInputs.length; i++) {
                const input = document.getElementById(sentenceInputs[i]);
                const userAnswer = input.value.trim().toLowerCase();
                const isCorrect = userAnswer === sentenceAnswers[i].toLowerCase();
                
                if (isCorrect) {
                    correctCount++;
                    input.style.border = "2px solid #48bb78";
                } else {
                    input.style.border = "2px solid #e53e3e";
                    wrongQuestionIds.push(`å¥å‹è½¬æ¢${i+1}é¢˜`); // è®°å½•é”™è¯¯é¢˜å·
                }
            }

            // 5. è®¡ç®—æ­£ç¡®ç‡ï¼ˆä¿ç•™2ä½å°æ•°ï¼‰
            const accuracyRate = ((correctCount / totalQuestions) * 100).toFixed(2) + '%';

            // 6. æ”¶é›†è¦æäº¤çš„æ•°æ®ï¼ˆå­—æ®µåæ”¹ä¸ºä¸­æ–‡ï¼‰
            const submitData = {
                "å§“å": studentName,
                "ç­çº§": studentClass,
                "æ­£ç¡®é¢˜æ•°": correctCount,
                "æ€»å®¢è§‚é¢˜æ•°": totalQuestions,
                "æ­£ç¡®ç‡": accuracyRate,
                "é”™è¯¯é¢˜å·": wrongQuestionIds,
                "æäº¤æ—¶é—´": new Date().toLocaleString()
            };

            // 7. æäº¤æ•°æ®åˆ°æŒ‡å®šPOSTæ¥å£
            // ğŸ‘‡ æ­¤å¤„ä¸ºä¿®æ”¹çš„éƒ¨åˆ†ï¼šä»…æ›´æ¢äº†æ¥å£åœ°å€
            const submitUrl = 'https://quickform.cn/api/2gzzls67pp';
            fetch(submitUrl, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(submitData),
            })
            .then(response => {
                if (!response.ok) throw new Error(`HTTPé”™è¯¯ï¼š${response.status}`);
                return response.json();
            })
            .then(() => {
                alert(`âœ… æäº¤æˆåŠŸï¼
ğŸ“ å§“åï¼š${studentName} | ç­çº§ï¼š${studentClass}
ğŸ¯ å®¢è§‚é¢˜å¾—åˆ†ï¼š${correctCount}/${totalQuestions}
ğŸ“Š æ­£ç¡®ç‡ï¼š${accuracyRate}
âŒ é”™è¯¯é¢˜å·ï¼š${wrongQuestionIds.length > 0 ? wrongQuestionIds.join('ã€') : 'æ— '}`);
            })
            .catch(error => {
                alert(`âš ï¸ ç­”é¢˜æ ¸å¯¹å®Œæˆï¼Œä½†æ•°æ®æäº¤å¤±è´¥ï¼š${error.message}
ğŸ“ å§“åï¼š${studentName} | ç­çº§ï¼š${studentClass}
ğŸ¯ å®¢è§‚é¢˜å¾—åˆ†ï¼š${correctCount}/${totalQuestions}
ğŸ“Š æ­£ç¡®ç‡ï¼š${accuracyRate}
âŒ é”™è¯¯é¢˜å·ï¼š${wrongQuestionIds.length > 0 ? wrongQuestionIds.join('ã€') : 'æ— '}`);
            });
        }

        // é‡ç½®ç­”æ¡ˆ
        function resetAnswers() {
            // é‡ç½®æ‰€æœ‰è¾“å…¥æ¡†ï¼ˆåŒ…æ‹¬å§“å/ç­çº§ï¼‰
            const inputs = document.querySelectorAll("input[type='text'], textarea");
            inputs.forEach(input => {
                input.value = "";
                input.style.border = "1px solid #dee2e6";
            });

            // éšè—è§£æåŒº
            document.getElementById("analysisSection").style.display = "none";
        }

        // æ˜¾ç¤ºè§£æ
        function showAnalysis() {
            const analysisSection = document.getElementById("analysisSection");
            analysisSection.style.display = analysisSection.style.display === "block" ? "none" : "block";
        }
    </script>
</body>
</html>
